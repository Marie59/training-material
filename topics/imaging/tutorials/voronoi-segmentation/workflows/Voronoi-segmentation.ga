{"a_galaxy_workflow": "true", "annotation": "Generic workflow to perform Voronoi segmentation.\nInput requirements: \n* Image: \n-- Preferably lighter objects on a darker background for the mask to work well.\n-- Format: .tiff, stored in planar RGB format, not interleaved (http://avitevet.com/uncategorized/when-to-use-it-interleaved-vs-planar-image-data-storage/). \n* Seeds: \n-- White seeds on a black background\n-- Format: .tiff", "comments": [{"child_steps": [8, 9], "color": "orange", "data": {"title": "Quantitative Analysis - Image features and Counting"}, "id": 3, "position": [1820.5, 330.5], "size": [242, 385], "type": "frame"}, {"child_steps": [12], "color": "pink", "data": {"title": "Visualization"}, "id": 2, "position": [1819.7, 72.6], "size": [240, 224.3], "type": "frame"}, {"child_steps": [2, 3, 4, 5, 6, 7, 10, 11], "color": "turquoise", "data": {"title": "Voronoi segmentation"}, "id": 1, "position": [301.9, 0], "size": [1443, 725], "type": "frame"}, {"child_steps": [0, 1], "color": "green", "data": {"title": "User Input"}, "id": 0, "position": [0.0, 205.8], "size": [240.2, 253.7], "type": "frame"}], "creator": [{"class": "Person", "identifier": "0000-0002-8380-6370", "name": "Even Moa Myklebust"}, {"class": "Person", "identifier": "0000-0003-2104-9519", "name": "Riccardo Massei"}], "format-version": "0.1", "license": "MIT", "name": "Voronoi segmentation", "report": {"markdown": "\n# Workflow Execution Report\n\n## Workflow Inputs\n```galaxy\ninvocation_inputs()\n```\n\n## Workflow Outputs\n```galaxy\ninvocation_outputs()\n```\n\n## Workflow\n```galaxy\nworkflow_display()\n```\n"}, "steps": {"0": {"annotation": "Image to be segmented.", "content_id": null, "errors": null, "id": 0, "input_connections": {}, "inputs": [{"description": "Image to be segmented.", "name": "Image"}], "label": "Image", "name": "Input dataset", "outputs": [], "position": {"left": 20.16448032461908, "top": 245.76697988052666}, "tool_id": null, "tool_state": "{\"optional\": false, \"tag\": null}", "tool_version": null, "type": "data_input", "uuid": "1fdc6954-1089-4b5f-b535-1e1e1a8a87cc", "when": null, "workflow_outputs": []}, "1": {"annotation": "Seeds for the Voronoi segmentation.", "content_id": null, "errors": null, "id": 1, "input_connections": {}, "inputs": [{"description": "Seeds for the Voronoi segmentation.", "name": "Seeds"}], "label": "Seeds", "name": "Input dataset", "outputs": [], "position": {"left": 19.980182648046146, "top": 377.71983037749453}, "tool_id": null, "tool_state": "{\"optional\": false, \"tag\": null}", "tool_version": null, "type": "data_input", "uuid": "8d73a727-aba8-4cf7-b74a-5b1e4be77f4c", "when": null, "workflow_outputs": []}, "2": {"annotation": "", "content_id": "toolshed.g2.bx.psu.edu/repos/imgteam/bfconvert/ip_convertimage/6.7.0+galaxy3", "errors": null, "id": 2, "input_connections": {"input_file": {"id": 0, "output_name": "output"}}, "inputs": [], "label": null, "name": "Convert image format", "outputs": [{"name": "output", "type": "tiff"}], "position": {"left": 323.09649319902934, "top": 227.6411343805837}, "post_job_actions": {}, "tool_id": "toolshed.g2.bx.psu.edu/repos/imgteam/bfconvert/ip_convertimage/6.7.0+galaxy3", "tool_shed_repository": {"changeset_revision": "fcadded98e61", "name": "bfconvert", "owner": "imgteam", "tool_shed": "toolshed.g2.bx.psu.edu"}, "tool_state": "{\"__input_ext\": \"input\", \"bigtiff\": false, \"channel_options\": {\"extract\": \"True\", \"__current_case__\": 1, \"channel\": \"0\"}, \"chromInfo\": \"/opt/galaxy/tool-data/shared/ucsc/chrom/?.len\", \"compression\": \"False\", \"crop_options\": {\"extract\": \"False\", \"__current_case__\": 0}, \"input_file\": {\"__class__\": \"ConnectedValue\"}, \"noflat\": true, \"out_format\": \"tiff\", \"pyramid_options\": {\"generate\": \"False\", \"__current_case__\": 1}, \"range_options\": {\"extract\": \"False\", \"__current_case__\": 0}, \"series_options\": {\"extract\": \"False\", \"__current_case__\": 0}, \"tile_options\": {\"extract\": \"False\", \"__current_case__\": 0}, \"timepoint_options\": {\"extract\": \"False\", \"__current_case__\": 0}, \"z_options\": {\"extract\": \"False\", \"__current_case__\": 0}, \"__page__\": 0, \"__rerun_remap_job_id__\": null}", "tool_version": "6.7.0+galaxy3", "type": "tool", "uuid": "be6663f6-31a9-44e1-aee5-99a604972a63", "when": null, "workflow_outputs": [{"label": "Single channel image", "output_name": "output", "uuid": "09e98f2a-17b3-429b-877d-93de63ca7e1a"}]}, "3": {"annotation": "", "content_id": "toolshed.g2.bx.psu.edu/repos/imgteam/binary2labelimage/ip_binary_to_labelimage/0.5+galaxy0", "errors": null, "id": 3, "input_connections": {"input": {"id": 1, "output_name": "output"}}, "inputs": [], "label": null, "name": "Convert binary image to label map", "outputs": [{"name": "output", "type": "tiff"}], "position": {"left": 321.92085627567684, "top": 427.9436137613594}, "post_job_actions": {}, "tool_id": "toolshed.g2.bx.psu.edu/repos/imgteam/binary2labelimage/ip_binary_to_labelimage/0.5+galaxy0", "tool_shed_repository": {"changeset_revision": "984358e43242", "name": "binary2labelimage", "owner": "imgteam", "tool_shed": "toolshed.g2.bx.psu.edu"}, "tool_state": "{\"__input_ext\": \"tiff\", \"chromInfo\": \"/opt/galaxy/tool-data/shared/ucsc/chrom/?.len\", \"input\": {\"__class__\": \"ConnectedValue\"}, \"mode\": {\"mode_selector\": \"cca\", \"__current_case__\": 0}, \"__page__\": 0, \"__rerun_remap_job_id__\": null}", "tool_version": "0.5+galaxy0", "type": "tool", "uuid": "9e77c752-f209-4c38-8344-efaee23c8d77", "when": null, "workflow_outputs": [{"label": "label map", "output_name": "output", "uuid": "4d2a861c-3746-4c24-9b81-96d8f7a710d4"}]}, "4": {"annotation": "", "content_id": "toolshed.g2.bx.psu.edu/repos/imgteam/repeat_channels/repeat_channels/1.26.4+galaxy0", "errors": null, "id": 4, "input_connections": {"input": {"id": 2, "output_name": "output"}}, "inputs": [], "label": null, "name": "Convert single-channel to multi-channel image", "outputs": [{"name": "output", "type": "tiff"}], "position": {"left": 624.5649332438819, "top": 40.02265625}, "post_job_actions": {}, "tool_id": "toolshed.g2.bx.psu.edu/repos/imgteam/repeat_channels/repeat_channels/1.26.4+galaxy0", "tool_shed_repository": {"changeset_revision": "7cdb50fee601", "name": "repeat_channels", "owner": "imgteam", "tool_shed": "toolshed.g2.bx.psu.edu"}, "tool_state": "{\"__input_ext\": \"input\", \"chromInfo\": \"/opt/galaxy/tool-data/shared/ucsc/chrom/?.len\", \"count\": \"3\", \"input\": {\"__class__\": \"ConnectedValue\"}, \"__page__\": 0, \"__rerun_remap_job_id__\": null}", "tool_version": "1.26.4+galaxy0", "type": "tool", "uuid": "8c8d2103-023f-493a-8d98-12c5dc189b30", "when": null, "workflow_outputs": [{"label": "multi-channel image", "output_name": "output", "uuid": "66990d3d-7b19-43f6-ac5a-ecd5557bff35"}]}, "5": {"annotation": "", "content_id": "toolshed.g2.bx.psu.edu/repos/imgteam/2d_simple_filter/ip_filter_standard/1.12.0+galaxy1", "errors": null, "id": 5, "input_connections": {"input": {"id": 2, "output_name": "output"}}, "inputs": [], "label": null, "name": "Filter 2-D image", "outputs": [{"name": "output", "type": "tiff"}], "position": {"left": 624.13359375, "top": 226.4140625}, "post_job_actions": {}, "tool_id": "toolshed.g2.bx.psu.edu/repos/imgteam/2d_simple_filter/ip_filter_standard/1.12.0+galaxy1", "tool_shed_repository": {"changeset_revision": "d51310ab328a", "name": "2d_simple_filter", "owner": "imgteam", "tool_shed": "toolshed.g2.bx.psu.edu"}, "tool_state": "{\"__input_ext\": \"input\", \"chromInfo\": \"/opt/galaxy/tool-data/shared/ucsc/chrom/?.len\", \"filter\": {\"filter_type\": \"gaussian\", \"__current_case__\": 0, \"size\": \"3.0\"}, \"input\": {\"__class__\": \"ConnectedValue\"}, \"__page__\": 0, \"__rerun_remap_job_id__\": null}", "tool_version": "1.12.0+galaxy1", "type": "tool", "uuid": "633b9db7-e586-4190-807b-b9238e129e9a", "when": null, "workflow_outputs": [{"label": "Smoothed image", "output_name": "output", "uuid": "e030c644-5cb4-4c1e-8287-8fc6d2950490"}]}, "6": {"annotation": "", "content_id": "toolshed.g2.bx.psu.edu/repos/imgteam/voronoi_tesselation/voronoi_tessellation/0.22.0+galaxy3", "errors": null, "id": 6, "input_connections": {"input": {"id": 3, "output_name": "output"}}, "inputs": [], "label": null, "name": "Compute Voronoi tessellation", "outputs": [{"name": "result", "type": "tiff"}], "position": {"left": 773.6707743239001, "top": 514.2132155843244}, "post_job_actions": {}, "tool_id": "toolshed.g2.bx.psu.edu/repos/imgteam/voronoi_tesselation/voronoi_tessellation/0.22.0+galaxy3", "tool_shed_repository": {"changeset_revision": "1944b0fccdbd", "name": "voronoi_tesselation", "owner": "imgteam", "tool_shed": "toolshed.g2.bx.psu.edu"}, "tool_state": "{\"__input_ext\": \"input\", \"chromInfo\": \"/opt/galaxy/tool-data/shared/ucsc/chrom/?.len\", \"input\": {\"__class__\": \"ConnectedValue\"}, \"__page__\": 0, \"__rerun_remap_job_id__\": null}", "tool_version": "0.22.0+galaxy3", "type": "tool", "uuid": "6de82961-6d20-460e-891d-e411cb1dcd6a", "when": null, "workflow_outputs": [{"label": "tesselation", "output_name": "result", "uuid": "af96320e-5fa7-49d2-831b-bb438f8b2d73"}]}, "7": {"annotation": "", "content_id": "toolshed.g2.bx.psu.edu/repos/imgteam/2d_auto_threshold/ip_threshold/0.18.1+galaxy3", "errors": null, "id": 7, "input_connections": {"input": {"id": 5, "output_name": "output"}}, "inputs": [], "label": null, "name": "Threshold image", "outputs": [{"name": "output", "type": "tiff"}], "position": {"left": 922.174743151071, "top": 227.3131431864013}, "post_job_actions": {}, "tool_id": "toolshed.g2.bx.psu.edu/repos/imgteam/2d_auto_threshold/ip_threshold/0.18.1+galaxy3", "tool_shed_repository": {"changeset_revision": "699a5e9146b3", "name": "2d_auto_threshold", "owner": "imgteam", "tool_shed": "toolshed.g2.bx.psu.edu"}, "tool_state": "{\"__input_ext\": \"input\", \"chromInfo\": \"/opt/galaxy/tool-data/shared/ucsc/chrom/?.len\", \"input\": {\"__class__\": \"ConnectedValue\"}, \"invert_output\": false, \"th_method\": {\"method_id\": \"manual\", \"__current_case__\": 0, \"threshold\": \"3.0\", \"block_size\": \"0\", \"offset\": \"0\"}, \"__page__\": 0, \"__rerun_remap_job_id__\": null}", "tool_version": "0.18.1+galaxy3", "type": "tool", "uuid": "74ca3459-e183-43ff-a9d3-054f78928d37", "when": null, "workflow_outputs": [{"label": "mask", "output_name": "output", "uuid": "633e495b-ca86-451b-836c-bfceeb8d25ee"}]}, "8": {"annotation": "", "content_id": "toolshed.g2.bx.psu.edu/repos/imgteam/count_objects/ip_count_objects/0.0.5-2", "errors": null, "id": 8, "input_connections": {"input": {"id": 6, "output_name": "result"}}, "inputs": [], "label": null, "name": "Count objects in label map", "outputs": [{"name": "output", "type": "tabular"}], "position": {"left": 1841.8953125, "top": 398.03515625}, "post_job_actions": {}, "tool_id": "toolshed.g2.bx.psu.edu/repos/imgteam/count_objects/ip_count_objects/0.0.5-2", "tool_shed_repository": {"changeset_revision": "b58447a2eed2", "name": "count_objects", "owner": "imgteam", "tool_shed": "toolshed.g2.bx.psu.edu"}, "tool_state": "{\"__input_ext\": \"tiff\", \"chromInfo\": \"/opt/galaxy/tool-data/shared/ucsc/chrom/?.len\", \"input\": {\"__class__\": \"ConnectedValue\"}, \"__page__\": 0, \"__rerun_remap_job_id__\": null}", "tool_version": "0.0.5-2", "type": "tool", "uuid": "27813b0e-5431-47eb-8945-8ac8f6d52c4d", "when": null, "workflow_outputs": [{"label": "object count", "output_name": "output", "uuid": "b977eb0c-e874-439f-b42b-756d6a864112"}]}, "9": {"annotation": "", "content_id": "toolshed.g2.bx.psu.edu/repos/imgteam/2d_feature_extraction/ip_2d_feature_extraction/0.18.1+galaxy0", "errors": null, "id": 9, "input_connections": {"input_label": {"id": 6, "output_name": "result"}, "use_raw_option|input_raw": {"id": 2, "output_name": "output"}}, "inputs": [{"description": "runtime parameter for tool Extract image features", "name": "use_raw_option"}], "label": null, "name": "Extract image features", "outputs": [{"name": "output", "type": "tabular"}], "position": {"left": 1841.7859375, "top": 530.5390625}, "post_job_actions": {}, "tool_id": "toolshed.g2.bx.psu.edu/repos/imgteam/2d_feature_extraction/ip_2d_feature_extraction/0.18.1+galaxy0", "tool_shed_repository": {"changeset_revision": "5bc8cdc17fd0", "name": "2d_feature_extraction", "owner": "imgteam", "tool_shed": "toolshed.g2.bx.psu.edu"}, "tool_state": "{\"__input_ext\": \"input\", \"chromInfo\": \"/opt/galaxy/tool-data/shared/ucsc/chrom/?.len\", \"feature_options\": {\"features\": \"all\", \"__current_case__\": 0}, \"input_label\": {\"__class__\": \"ConnectedValue\"}, \"use_raw_option\": {\"use_raw\": \"raw_image\", \"__current_case__\": 1, \"input_raw\": {\"__class__\": \"ConnectedValue\"}}, \"__page__\": 0, \"__rerun_remap_job_id__\": null}", "tool_version": "0.18.1+galaxy0", "type": "tool", "uuid": "491f47db-5866-451a-9a7b-c851ac740640", "when": null, "workflow_outputs": [{"label": "image features", "output_name": "output", "uuid": "5a94a425-9000-4083-aae7-232ea01ae215"}]}, "10": {"annotation": "", "content_id": "toolshed.g2.bx.psu.edu/repos/imgteam/image_math/image_math/1.26.4+galaxy2", "errors": null, "id": 10, "input_connections": {"inputs_0|image": {"id": 6, "output_name": "result"}, "inputs_1|image": {"id": 1, "output_name": "output"}, "inputs_2|image": {"id": 7, "output_name": "output"}}, "inputs": [], "label": null, "name": "Process images using arithmetic expressions", "outputs": [{"name": "result", "type": "tiff"}], "position": {"left": 1222.1588417708233, "top": 226.78036665519062}, "post_job_actions": {}, "tool_id": "toolshed.g2.bx.psu.edu/repos/imgteam/image_math/image_math/1.26.4+galaxy2", "tool_shed_repository": {"changeset_revision": "48fa3ac55df2", "name": "image_math", "owner": "imgteam", "tool_shed": "toolshed.g2.bx.psu.edu"}, "tool_state": "{\"__input_ext\": \"input\", \"chromInfo\": \"/opt/galaxy/tool-data/shared/ucsc/chrom/?.len\", \"expression\": \"tessellation * (mask / 255) * (1 - seeds / 255)\", \"inputs\": [{\"__index__\": 0, \"image\": {\"__class__\": \"ConnectedValue\"}, \"name\": \"tessellation\"}, {\"__index__\": 1, \"image\": {\"__class__\": \"ConnectedValue\"}, \"name\": \"seeds\"}, {\"__index__\": 2, \"image\": {\"__class__\": \"ConnectedValue\"}, \"name\": \"mask\"}], \"__page__\": 0, \"__rerun_remap_job_id__\": null}", "tool_version": "1.26.4+galaxy2", "type": "tool", "uuid": "825c59c9-c757-4614-a70a-baa85daa1997", "when": null, "workflow_outputs": [{"label": "segmentation", "output_name": "result", "uuid": "45f919dd-298f-4e94-a390-e73537b5fedb"}]}, "11": {"annotation": "", "content_id": "toolshed.g2.bx.psu.edu/repos/imgteam/colorize_labels/colorize_labels/3.2.1+galaxy3", "errors": null, "id": 11, "input_connections": {"input": {"id": 10, "output_name": "result"}}, "inputs": [], "label": null, "name": "Colorize label map", "outputs": [{"name": "output", "type": "png"}], "position": {"left": 1522.2377005780656, "top": 227.80758117831164}, "post_job_actions": {}, "tool_id": "toolshed.g2.bx.psu.edu/repos/imgteam/colorize_labels/colorize_labels/3.2.1+galaxy3", "tool_shed_repository": {"changeset_revision": "5907be5a8d7c", "name": "colorize_labels", "owner": "imgteam", "tool_shed": "toolshed.g2.bx.psu.edu"}, "tool_state": "{\"__input_ext\": \"input\", \"bg_color\": \"#000000\", \"bg_label\": \"0\", \"chromInfo\": \"/opt/galaxy/tool-data/shared/ucsc/chrom/?.len\", \"input\": {\"__class__\": \"ConnectedValue\"}, \"radius\": \"10\", \"__page__\": 0, \"__rerun_remap_job_id__\": null}", "tool_version": "3.2.1+galaxy3", "type": "tool", "uuid": "8c359727-ae49-474f-a402-c13b6f75c65b", "when": null, "workflow_outputs": [{"label": "colorized label map", "output_name": "output", "uuid": "6903fd1b-304a-4e4a-a529-8f3643bcd445"}]}, "12": {"annotation": "", "content_id": "toolshed.g2.bx.psu.edu/repos/imgteam/overlay_images/ip_overlay_images/0.0.4+galaxy4", "errors": null, "id": 12, "input_connections": {"method_option|im1": {"id": 4, "output_name": "output"}, "method_option|im2": {"id": 11, "output_name": "output"}}, "inputs": [{"description": "runtime parameter for tool Overlay images", "name": "method_option"}, {"description": "runtime parameter for tool Overlay images", "name": "method_option"}], "label": null, "name": "Overlay images", "outputs": [{"name": "out_tiff", "type": "tiff"}], "position": {"left": 1839.66171875, "top": 112.45937499999997}, "post_job_actions": {}, "tool_id": "toolshed.g2.bx.psu.edu/repos/imgteam/overlay_images/ip_overlay_images/0.0.4+galaxy4", "tool_shed_repository": {"changeset_revision": "ca362a9bfa20", "name": "overlay_images", "owner": "imgteam", "tool_shed": "toolshed.g2.bx.psu.edu"}, "tool_state": "{\"__input_ext\": \"input\", \"chromInfo\": \"/opt/galaxy/tool-data/shared/ucsc/chrom/?.len\", \"method_option\": {\"method\": \"blending\", \"__current_case__\": 1, \"im1\": {\"__class__\": \"ConnectedValue\"}, \"im2\": {\"__class__\": \"ConnectedValue\"}, \"alpha\": \"0.5\"}, \"__page__\": 0, \"__rerun_remap_job_id__\": null}", "tool_version": "0.0.4+galaxy4", "type": "tool", "uuid": "beb7a9ee-e34c-4de7-bfba-f4cb738d582b", "when": null, "workflow_outputs": [{"label": "segmented image", "output_name": "out_tiff", "uuid": "2adb0afd-923f-4641-bafb-10eaca09a4e0"}]}}, "tags": ["Segmentation", "imageanaylsis", "voronoi"], "uuid": "af15dd5e-a481-4fa1-b94c-40335465e018", "version": 14}